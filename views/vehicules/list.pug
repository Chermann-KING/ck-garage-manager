extends ../layout

block content
  .d-flex.justify-content-between.mb-3
    .btn-group
      a.btn.btn-outline-primary(href="/vehicules", class=(sortByType ? "" : "active")) Liste standard
      a.btn.btn-outline-primary(href="/vehicules?sort=type", class=(sortByType ? "active" : "")) Par marque
    
    a.btn.btn-success(href="/vehicules/ajouter")
      i.bi.bi-plus-circle-fill.me-2
      | Ajouter un véhicule
  
  .card
    .card-header
      .row
        .col-md-3
          strong Véhicule
        .col-md-2
          strong Immatriculation
        .col-md-2
          strong Année
        .col-md-3
          strong Propriétaire
        .col-md-2
          strong Actions
    
    .list-group.list-group-flush
      if vehicules && vehicules.length > 0
        each vehicule in vehicules
          .list-group-item
            .row.align-items-center
              .col-md-3
                h5.mb-0 #{vehicule.Marque} #{vehicule.Modele}
              .col-md-2
                span.badge.bg-secondary.px-3.py-2 #{vehicule.Immatriculation}
              .col-md-2
                | #{vehicule.Annee || 'Non renseignée'}
              .col-md-3
                a(href=`/clients/${vehicule.ClientID}`) #{vehicule.Proprietaire}
              .col-md-2
                .btn-group.btn-group-sm
                  a.btn.btn-primary(href=`/vehicules/${vehicule.VehiculeID}`) Détails
                  a.btn.btn-warning(href=`/interventions/planifier?vehiculeId=${vehicule.VehiculeID}`) Intervention
      else
        .list-group-item.text-center.py-4
          p.text-muted.mb-0 Aucun véhicule enregistré